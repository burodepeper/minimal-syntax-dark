.text.md {
  .md {
    &.heading {
      color: @syntax-code;

      &.empty {
        .punctuation {
          opacity: 1;
        }
      }
    }

    &.hr {
      color: @syntax-code-dark;
    }

    &.quote {
      color: @syntax-content;
    }

    &.link {
      &.text {
        color: @syntax-content;
      }
      &.destination {
        color: @syntax-code;

        .uri {
          text-decoration: underline;
        }
      }
      &.title {
        color: @syntax-code-darker;
        font-style: italic;
      }
    }

    &.reference {
      color: @syntax-accent;
    }

    &.list {
      &.task {
        &.completed {
          color: @syntax-fg;
          opacity: 0.333;

          .code {
            background: transparent;
            color: @syntax-fg;
          }

          .punctuation {
            // opacity: 1;
            color: inherit;
          }

          .todo,
          .review {
            color: inherit;
          }

          .fixme {
            background: transparent;
            outline: none;
            color: inherit;
          }
        }
      }
      &.definition {
        color: @syntax-code-darker;
      }
      &.unordered,
      &.ordered
      {
        color: @syntax-fg;

        > .punctuation {
          color: @syntax-code-darker;
        }
      }
      &.empty {
        .punctuation {
          opacity: 1;
        }
      }
    }

    &.code {
      color: @syntax-neutral;

      &:not(.fenced) {
        background: fade(@syntax-neutral, 10%);
      }

      &.fenced {
        &.info {
          color: @syntax-code-darker;
        }
      }
    }

    // NOTE disabled
    // &.indented-code {
    //   background: fade(@syntax-neutral, 10%);
    // }

    &.constant {
      color: @syntax-constant;
      &.language {
        color: @syntax-neutral;
      }
    }

    &.punctuation {
      opacity: 0.5;
      background: inherit;
    }

    &.emphasis {
      font-style: italic;

      &:not(.strong) {
        opacity: 0.667;
      }

      &:not(.strong) .strong {
        font-style: italic;
      }
    }

    &.strong {
      font-weight: bold;
      font-style: normal;
    }

    &.table {
      color: @syntax-code-darker;

      .alignment {
        opacity: 1;
      }

      > .punctuation {
        color: @syntax-code-darker;
        // opacity: 0.333;
      }
    }

    &.strike {
      text-decoration: line-through;
      opacity: 0.5;
    }

    &.critic {
      &.addition {
        color: @syntax-content;
      }
      &.deletion {
        color: @syntax-constant;
      }
      &.highlight {
        background: fade(@syntax-highlight, 50%);
      }
      &.comment {
        color: @syntax-comment;
        font-style: normal;
      }
      &.substitution {
        color: @syntax-code;
      }
    }

    &.special-attributes {
      color: @syntax-neutral;
      font-weight: normal;

      .punctuation {
        opacity: 1;
      }

      .other {
        color: inherit;
      }

      .id,
      .class
      {
        color: @syntax-constant;
        font-weight: normal;
      }
    }
  }
}
